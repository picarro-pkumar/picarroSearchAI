{
  "id": "3d48ff09-7202-4f1c-b161-c1cc7ec36f79",
  "title": "what is purpose of heartbeat in active Monitoring",
  "messages": [
    {
      "id": "1754073463680",
      "content": "what is purpose of heartbeat in active Monitoring",
      "role": "user",
      "timestamp": "2025-08-01 18:37:43.680000+00:00",
      "sources": null,
      "isTyping": false
    },
    {
      "id": "1754073475288",
      "content": "Based on the context provided, here is the information about \"what is purpose of heartbeat in active Monitoring\":\n\nThe system does not show a \"System Down\" status if no heartbeat is received for 15 seconds. However, the expected result is that the system should display a \"System Down\" status if the heartbeat is not received.\n\nAdditionally, the documentation states:\n\n\"No 'System Down' Status for Missing Heartbeat\"\n\n1. Scenario: Even if no heartbeat is received for 15 seconds, the system does not show a \"System Down\" status.\n2. Expected Result: The system should display a \"System Down\" status if the heartbeat is not received.\n\nThis suggests that the purpose of the heartbeat in active monitoring is to indicate whether the system is connected and operational, and to trigger an alert or notification if the system goes down.",
      "role": "assistant",
      "timestamp": "2025-08-01 18:37:55.287000+00:00",
      "sources": [
        {
          "content": "space Event Name: ms\\_heartbeat\\_state //this should return heartbeat data for a monitoring system Response Structure: \\{ \"result\": \\{ \"time\": 19234942324, //Epoch Time \"siteProgramId\": 3212-2313-3112-2332, \"monitoringSystemId\": \"8395-9274-8373-0274\", // Id of the monitoring system which sent this heartbeat \"state\": 0 //0 - Not Connected | 1 - Connected \\} \\} \\`\\`\\` \n### Web Socket Data format for Monitoring System Operational Status\n\\`\\`\\` Method: **W**ebSocket Namespace: active-monitoring-namespace Event Name: ms\\_operational\\_state //this should return heartbeat data for a monitoring system Response Structure: \\{ \"result\": \\{ \"time\": 19234942324, //Epoch Time \"siteProgramId\": 3212-2313-3112-2332, \"monitoringSystemId\": \"8395-9274-8373-0274\", // Id of the monitoring system which sent this heartbeat \"state\": 4 // 0 = \"UNINITIALIZED\" | 1 = \"INITIALIZING\" | 2 = \"OK\" | 3 = \"MAINTENANCE\" | 4 = \"CRITICAL\" \\} \\} \\`\\`\\` \n### Web Socket Data format for Wind Data\n\\`\\`\\` Method: **W**ebSocket Na",
          "similarity_score": 0.4862786317571126,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 19,
            "chunk_size": 1000,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "ven if no heartbeat is received for 15 seconds, the system does not show a \"System Down\" status.\n 2. Expected Result: The system should display a \"System Down\" status if the heartbeat is not received.\n\n _Wind Data for Each Monitoring System_\n _Wind Data Not Updated Every 5 Seconds:_\n 1. Scenario: Wind speed and direction data are not updated every 5 seconds, and no \"Data not available\" message is shown.\n 2. Expected Result: The system should display \"Data not available\" to prevent showing stale data.\n\n_Missing Wind Data:_\n 1. Scenario: Wind data is completely unavailable, and the system does not show a \"Data not available\" message.\n 2. Expected Result: Missing wind data should trigger a \"Data not available\" message.\n\n_Visual Indicators_\n _Incorrect Visual Indicators for Alerts:_\n 1. Scenario: The system shows the wrong visual symbol or color for critical alerts, such as showing green instead of red for a gas exceedance.\n 2.",
          "similarity_score": 0.4762976209558917,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 7,
            "chunk_size": 937,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "heartbeat \"state\": 4 // 0 = \"UNINITIALIZED\" | 1 = \"INITIALIZING\" | 2 = \"OK\" | 3 = \"MAINTENANCE\" | 4 = \"CRITICAL\" \\} \\} \\`\\`\\` \n### Web Socket Data format for Wind Data\n\\`\\`\\` Method: **W**ebSocket Namespace: active-monitoring-namespace Event Name: rt\\_wind\\_data //this should return real time wind data Response Structure: \\{ \"result\": \\{ \"time\": 19234942324, //Epoch Time \"siteProgramId\": 3212-2313-3112-2332, \"monitoringSystemId\": \"8395-9274-8373-0274\", // Id of the monitoring system which sent this heartbeat \"windSpeed\": 140.32, // float \"windDirection\": 245 // int \\} \\} \\`\\`\\`",
          "similarity_score": 0.46497432532757266,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 20,
            "chunk_size": 584,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "1. Scenario: The system shows the wrong status, such as critical error when in maintenance.\n 2. Expected Result: The operational status should reflect the correct issue.\n\n_Delayed Status Update:_\n 1. Scenario: There is a delay in updating the status symbol when an operational issue is detected.\n 2. Expected Result: The status symbol should update in real-time.\n\n_Stale or Missing Operational Data:_\n 1. Scenario: Operational data is not updated every 5 seconds, and no \"Data not available\" message is shown.\n 2. Expected Result: The system should show \"Data not available\" to ensure no stale data is displayed.\n\n_Heartbeat / Connectivity Monitoring_\n _No \"System Down\" Status for Missing Heartbeat:_\n 1. Scenario: Even if no heartbeat is received for 15 seconds, the system does not show a \"System Down\" status.\n 2. Expected Result: The system should display a \"System Down\" status if the heartbeat is not received.",
          "similarity_score": 0.4560401421825425,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 6,
            "chunk_size": 917,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "e5a-389238efbdd0\": \\{ \"operationalStatus\": \\{ \"monitoringSystemId\": \"837039ee-19ad-45c9-ae5a-389238efbdd0\", \"time\": \"1746081455375\", \"state\": 2,//0=\"UNINITIALIZED\"|1=\"INITIALIZING\"|2=\"OK\"|3=\"MAINTENANCE\"|4=\"CRITICAL\" \"siteProgramId\": \"fd53de65-3fb0-4c12-aacc-9f78a164a7f2\" \\}, \"heartbeat\": \\{ \"monitoringSystemId\": \"837039ee-19ad-45c9-ae5a-389238efbdd0\", \"time\": \"1746436030658\", \"state\": 0,//0-NotConnected|1-Connected \"siteProgramId\": \"fd53de65-3fb0-4c12-aacc-9f78a164a7f2\" \\} \\} \\} \\} \\`\\`\\` \n## Socket Connection\n### Steps to Establish socketio connection\nSteps to establish web socket connection and receive data for active monitoring dashboar:\n 1. Fetch socketio connection details\n 1. Frontend to request web socket connection details using '\\`/api/v1/webSocket\\`' path\n 2. Backend will send response as defined in the API specs\n 2. Establish socketio connection\n 1. Frontend will create \u2018socketio\u2019 connection\n 2. Backend will establish connection\n 3.",
          "similarity_score": 0.4180654356195548,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 16,
            "chunk_size": 958,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "rt\\_processed\\_conc\\_data //this should return single data from a monitoring system Response Structure: \\{ \"result\": \\{ \"time\": 19234942324, \"siteProgramId\": \"3212-2313-3112-2332\", \"monitoringSystemId\": \"8395-9274-8373-0274\", \"concentrations\": \\[ \\{ \"cid\": 533454343, \"concentration\": 1.0407, \"thresholdStatus\": 1, \"unit\": \"ppb\" \\}, \\{ \"cid\": 533454343, \"concentration\": 1.0407, \"thresholdStatus\": 1, \"unit\": \"ppb\" \\} \\], \"windPolygon\": \\{ \"type\": \"Polygon\", \"coordinates\": \\[ \\[ \\[-93.28142206235546, 30.246724860133316\\], \\[-93.28142163075195, 30.246724802598017\\], \\[-93.28142228782423, 30.246724885992023\\], \\[-93.28142206235546, 30.246724860133316\\] \\] \\] \\} \\} \\} \\`\\`\\` \n### Web Socket Data format for Monitoring System Heartbeat\n\\`\\`\\` Method: **W**ebSocket Namespace: active-monitoring-namespace Event Name: ms\\_heartbeat\\_state //this should return heartbeat data for a monitoring system Response Structure: \\{ \"result\": \\{ \"time\": 19234942324, //Epoch Time \"siteProgramId\": 3212-2313-3112",
          "similarity_score": 0.4113091788276535,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 18,
            "chunk_size": 999,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "/webSocket\\`' path\n 2. Backend will send response as defined in the API specs\n 2. Establish socketio connection\n 1. Frontend will create \u2018socketio\u2019 connection\n 2. Backend will establish connection\n 3. Establish namespace over socketio connection\n 1. Frontend will get namespace socketio connection for '\\`active-monitoring-namespace\\`'\n 4. Initiate data receiving using the namespace socketio conneciton\n 1. Frontend will send \u2018\\`start\\_active\\_monitoring\\`\u2019 event with below payload\n\n\\`\\`\\` \\{ \"siteProgramId\" : \\} \\`\\`\\` \n 5. Disconnect namespace socketio connection\n 1. Frontend will disconnect namespace socketio connection when it no longer needs the data\n\n### Web Socket Data format for Active Monitoring Dashboard\n\\`\\`\\` Method: **W**ebSocket Namespace: active-monitoring-namespace Event Name: rt\\_processed\\_conc\\_data //this should return single data from a monitoring system Response Structure: \\{ \"result\": \\{ \"time\": 19234942324, \"siteProgramId\": \"3212-2313-3112-2332\", \"monitoringSystemI",
          "similarity_score": 0.37035040157364185,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 17,
            "chunk_size": 1000,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "minutes \n\n\\`\\`\\` none \\`\\`\\` \n## Overview\nThis document provides a detailed definition of the <http://Socket.IO> and API contract between the Active Monitoring Dashboard and the backend Relay Service. It outlines the communication protocols, data structures, and interactions that ensure seamless integration and data exchange between the frontend dashboard and the backend service, including the expected request and response formats, error handling mechanisms, and any specific rules governing the transmission of information.\n## API\n### **Get Latest Telemetry Info for Active Monitoring Dashboard**\nEndpoint: **\\`/v1/telemetry/latest\\`**\nMethod: \\`GET\\`\nDescription: Get Latest Telemetry Info for Active Monitoring Dashboard By Site Program Id\n**Parameters:**\n * \\`siteProgramId\\` \\(query parameter, required\\): \n * Type: UUID\n * Description: Unique identifiers of the site program.\n\n**Responses:**\n * **200 OK**\n * Content-Type: application/json\n\n**Schema:**\n\\`\\`\\` \\{ \"siteProgramId\": \"fd53de65-",
          "similarity_score": 0.3681891990464665,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 14,
            "chunk_size": 1000,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "to quickly identify systems requiring corrective action. \n * **Detailed System Insights:** Users can click to view a pop-up displaying detailed gas concentration levels and status, operational health, anemometer data.\n * **Operational Status:** Monitoring systems with operational issues display a health Status symbol, providing real-time operational status updates.\n * **Heartbeat Monitoring:** Each system verifies connectivity with a heartbeat signal every 15 seconds. If no heartbeat is received, the system triggers an alert, displays a \"System Down\" icon and the popup cannot be accessed\n * **Wind Data specific to the system:** Each system displays wind speed and direction data specific to the system, updated every 5 seconds, allowing users to assess specific environmental conditions and their impact on individual systems.\n * **Visual Indicators:** All critical alerts and statuses \\(gas exceedances, operational issues, system down\\) are represented with intuitive visual symbols and co",
          "similarity_score": 0.34680375179895484,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 1,
            "chunk_size": 999,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        },
        {
          "content": "de 51\\)\n 3. Move the go-live and live next to bean bar timeline on the right\n 4. Below the bar include an axis and every 12 bars in between the 12th and 13th bar - there should be a vertical line.\n 5. Below the axis line show the time interval selected\n 6. Please refer slide 52 in this presentation - [cloud-fenceline - presentation](https://www.figma.com/proto/inJKuHGy5HNdYKygtA8HpB/cloud-fenceline?node-id=2679-62742)\n 7. New date period selection - Last 24 hours, Last 90 Days, Custom - Refer figma - [cloud-fenceline - presentation](https://www.figma.com/proto/inJKuHGy5HNdYKygtA8HpB/cloud-fenceline?node-id=2679-63112)\n 8. Show bean bars bigger for averages that are bigger \\(14 days > 24 hours > 1 hour > 30 minutes > 15 minutes \n\n\\`\\`\\` none \\`\\`\\` \n## Overview\nThis document provides a detailed definition of the <http://Socket.IO> and API contract between the Active Monitoring Dashboard and the backend Relay Service.",
          "similarity_score": 0.3208061601975293,
          "metadata": {
            "author": "Praveen kumar",
            "chunk_count": 0,
            "chunk_index": 13,
            "chunk_size": 929,
            "content_length": 16031,
            "created_date": "2025-07-25T13:08:52.035Z",
            "document_id": "confluence_3778248705",
            "is_chunk": true,
            "last_modified": "2025-07-25T13:53:04.384Z",
            "page_id": "3778248705",
            "page_url": "https://picarro.atlassian.net/wiki/pages/viewpage.action?pageId=3778248705",
            "parent_id": "",
            "space_key": "FenceLineD",
            "space_name": "FenceLineDemoSpace",
            "status": "current",
            "tags": "",
            "title": "Detaila about active monitoring",
            "version": "1"
          }
        }
      ],
      "isTyping": false
    }
  ],
  "created_at": "2025-08-01 18:38:03.947260",
  "updated_at": "2025-08-01 18:38:03.947260",
  "user_id": null,
  "metadata": {}
}